<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>绿动地球 - 环保行动平台</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #2e7d32;
            --primary-light: #4caf50;
            --primary-lighter: #e8f5e9;
            --primary-dark: #1b5e20;
            --secondary: #ff9800;
            --accent: #8bc34a;
            --text: #333;
            --text-light: #666;
            --background: linear-gradient(135deg, #f5f7fa 0%, #e4efe9 100%);
            --white: #ffffff;
            --shadow: 0 8px 20px rgba(0,0,0,0.08);
            --shadow-light: 0 4px 12px rgba(0,0,0,0.05);
            --radius: 12px;
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Noto Sans SC', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: var(--background);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* 头部样式 */
        header {
            background: linear-gradient(135deg, var(--primary-light), var(--primary));
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }
        
        .logo {
            display: flex;
            align-items: center;
        }
        
        .logo h1 {
            color: white;
            font-size: 1.8rem;
            margin-left: 10px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
            background-color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: var(--transition);
        }
        
        .logo:hover .logo-icon {
            transform: rotate(15deg);
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 25px;
        }
        
        nav ul li a {
            text-decoration: none;
            color: white;
            font-weight: 500;
            transition: var(--transition);
            padding: 5px 10px;
            border-radius: 4px;
            position: relative;
        }
        
        nav ul li a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background: white;
            transition: var(--transition);
            transform: translateX(-50%);
        }
        
        nav ul li a:hover::after, nav ul li a.active::after {
            width: 80%;
        }
        
        .auth-buttons {
            display: flex;
            align-items: center;
        }
        
        .auth-buttons button {
            padding: 8px 16px;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: var(--transition);
        }
        
        .login-btn {
            background: transparent;
            color: white;
            margin-right: 10px;
            border: 1px solid rgba(255,255,255,0.5);
        }
        
        .signup-btn {
            background: white;
            color: var(--primary);
        }
        
        .login-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .signup-btn:hover {
            background: var(--primary-lighter);
            transform: translateY(-2px);
        }
        
        .user-profile {
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: var(--transition);
            padding: 5px 10px;
            border-radius: 20px;
        }
        
        .user-profile:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-weight: bold;
            margin-right: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .user-info {
            display: flex;
            flex-direction: column;
        }
        
        .user-name {
            font-weight: 500;
            color: white;
        }
        
        .user-points {
            font-size: 0.8rem;
            color: rgba(255,255,255,0.8);
        }
        
        /* 页面内容 */
        .page {
            display: none;
            min-height: calc(100vh - 200px);
            padding: 40px 0;
        }
        
        .page.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* 英雄区域 */
        .hero {
            background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary) 100%);
            color: white;
            padding: 100px 0;
            text-align: center;
            border-radius: 0 0 30px 30px;
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="%23ffffff" fill-opacity="0.1" d="M0,96L48,112C96,128,192,160,288,186.7C384,213,480,235,576,213.3C672,192,768,128,864,128C960,128,1056,192,1152,197.3C1248,203,1344,149,1392,122.7L1440,96L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>');
            background-size: cover;
            background-position: bottom;
        }
        
        .hero-content {
            position: relative;
            z-index: 1;
        }
        
        .hero h2 {
            font-size: 2.8rem;
            margin-bottom: 20px;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 30px;
            opacity: 0.9;
        }
        
        .cta-button {
            display: inline-block;
            background: var(--secondary);
            color: white;
            padding: 14px 35px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.1rem;
            transition: var(--transition);
            box-shadow: 0 6px 15px rgba(255, 152, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: 0.5s;
        }
        
        .cta-button:hover {
            background: #e68900;
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .cta-button:hover::before {
            left: 100%;
        }
        
        /* 功能区域 */
        .features {
            padding: 60px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 60px;
        }
        
        .section-title h2 {
            font-size: 2.2rem;
            color: var(--primary);
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
        }
        
        .section-title h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: var(--primary-light);
            border-radius: 3px;
        }
        
        .section-title p {
            color: var(--text-light);
            max-width: 600px;
            margin: 25px auto 0;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }
        
        .feature-card {
            background: var(--white);
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow-light);
            transition: var(--transition);
            border-top: 4px solid var(--primary-light);
            position: relative;
        }
        
        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.05) 0%, rgba(76, 175, 80, 0) 100%);
            opacity: 0;
            transition: var(--transition);
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow);
        }
        
        .feature-card:hover::before {
            opacity: 1;
        }
        
        .feature-icon {
            height: 140px;
            background: linear-gradient(135deg, var(--primary-light), var(--primary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
            position: relative;
            overflow: hidden;
        }
        
        .feature-icon::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 70%);
            transform: rotate(30deg);
        }
        
        .feature-content {
            padding: 25px;
        }
        
        .feature-content h3 {
            font-size: 1.4rem;
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        /* 数据可视化页面 */
        .visualization {
            padding: 60px 0;
        }
        
        .charts-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .chart-card {
            background: var(--white);
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow-light);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .chart-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--primary);
        }
        
        .chart-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }
        
        .chart-title {
            font-size: 1.3rem;
            color: var(--primary);
            margin-bottom: 20px;
            text-align: center;
        }
        
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }
        
        /* 回收识别区域 */
        .identify-container {
            display: flex;
            align-items: center;
            gap: 50px;
            background: var(--white);
            border-radius: var(--radius);
            padding: 40px;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }
        
        .identify-container::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, var(--primary-lighter) 0%, rgba(255,255,255,0) 70%);
            border-radius: 50%;
        }
        
        .identify-content {
            flex: 1;
            z-index: 1;
        }
        
        .identify-content h2 {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 20px;
        }
        
        .identify-content p {
            margin-bottom: 30px;
            color: var(--text-light);
        }
        
        .identify-content ul {
            list-style: none;
        }
        
        .identify-content li {
            padding: 8px 0;
            position: relative;
            padding-left: 25px;
        }
        
        .identify-content li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: var(--primary-light);
            font-weight: bold;
        }
        
        .identify-box {
            flex: 1;
            background: var(--primary-lighter);
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow-light);
            text-align: center;
            z-index: 1;
            position: relative;
            overflow: hidden;
        }
        
        .identify-box::before {
            content: '';
            position: absolute;
            bottom: -30%;
            right: -30%;
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(255,255,255,0.6) 0%, rgba(255,255,255,0) 70%);
            border-radius: 50%;
        }
        
        .upload-area {
            border: 2px dashed var(--primary-light);
            border-radius: var(--radius);
            padding: 40px 20px;
            margin-bottom: 20px;
            cursor: pointer;
            transition: var(--transition);
            background: rgba(255, 255, 255, 0.7);
            position: relative;
        }
        
        .upload-area:hover {
            background: rgba(255, 255, 255, 0.9);
            border-color: var(--primary);
        }
        
        .upload-area.active {
            background: rgba(76, 175, 80, 0.1);
            border-color: var(--primary);
        }
        
        .upload-icon {
            font-size: 3rem;
            color: var(--primary-light);
            margin-bottom: 15px;
            transition: var(--transition);
        }
        
        .upload-area:hover .upload-icon {
            transform: scale(1.1);
        }
        
        .identify-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 14px 25px;
            border-radius: var(--radius);
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
            box-shadow: 0 4px 10px rgba(46, 125, 50, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .identify-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: 0.5s;
        }
        
        .identify-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(46, 125, 50, 0.4);
        }
        
        .identify-btn:hover::before {
            left: 100%;
        }
        
        /* 积分系统 */
        .points-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .points-card {
            background: var(--white);
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow-light);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .points-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--secondary);
        }
        
        .points-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }
        
        .points-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .points-icon {
            width: 50px;
            height: 50px;
            background: var(--secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            margin-right: 15px;
            box-shadow: 0 4px 8px rgba(255, 152, 0, 0.3);
        }
        
        .points-list {
            list-style: none;
        }
        
        .points-list li {
            padding: 12px 0;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            transition: var(--transition);
        }
        
        .points-list li:hover {
            background: rgba(0,0,0,0.02);
            padding-left: 10px;
        }
        
        .points-list li:last-child {
            border-bottom: none;
        }
        
        .points-value {
            color: var(--primary);
            font-weight: 500;
        }
        
        /* 用户系统 */
        .user-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .login-form, .signup-form, .user-profile-card {
            background: var(--white);
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow-light);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .login-form::before, .signup-form::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--accent);
        }
        
        .user-profile-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--primary);
        }
        
        .login-form:hover, .signup-form:hover, .user-profile-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }
        
        .form-title {
            font-size: 1.5rem;
            color: var(--primary);
            margin-bottom: 20px;
            text-align: center;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .form-group input, .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: var(--radius);
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);
        }
        
        .form-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 14px;
            border-radius: var(--radius);
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
            box-shadow: 0 4px 10px rgba(46, 125, 50, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .form-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: 0.5s;
        }
        
        .form-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(46, 125, 50, 0.4);
        }
        
        .form-btn:hover::before {
            left: 100%;
        }
        
        /* 垃圾分类页面 */
        .garbage-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-top: 40px;
        }
        
        .category-card {
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow-light);
            transition: var(--transition);
            position: relative;
        }
        
        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }
        
        .category-header {
            padding: 20px;
            color: white;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .category-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 70%);
        }
        
        .recyclable { background: linear-gradient(135deg, #4caf50, #2e7d32); }
        .hazardous { background: linear-gradient(135deg, #f44336, #c62828); }
        .household { background: linear-gradient(135deg, #ff9800, #ef6c00); }
        .residual { background: linear-gradient(135deg, #795548, #4e342e); }
        
        .category-content {
            padding: 20px;
        }
        
        .category-content ul {
            list-style: none;
        }
        
        .category-content li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
            position: relative;
            padding-left: 20px;
        }
        
        .category-content li::before {
            content: '•';
            position: absolute;
            left: 0;
            color: var(--primary-light);
        }
        
        .category-content li:last-child {
            border-bottom: none;
        }
        
        /* 碳计算页面 */
        .carbon-calculator {
            background: white;
            border-radius: var(--radius);
            padding: 40px;
            box-shadow: var(--shadow);
            margin-top: 40px;
            position: relative;
            overflow: hidden;
        }
        
        .carbon-calculator::before {
            content: '';
            position: absolute;
            top: -30%;
            right: -30%;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, var(--primary-lighter) 0%, rgba(255,255,255,0) 70%);
            border-radius: 50%;
        }
        
        .calculator-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
            position: relative;
            z-index: 1;
        }
        
        .calculator-result {
            background: var(--primary-lighter);
            border-radius: var(--radius);
            padding: 25px;
            text-align: center;
            margin-top: 20px;
            position: relative;
            z-index: 1;
            box-shadow: var(--shadow-light);
        }
        
        .carbon-value {
            font-size: 2.5rem;
            color: var(--primary);
            font-weight: bold;
            margin: 10px 0;
        }
        
        /* 页脚 */
        footer {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
            color: white;
            padding: 50px 0 20px;
            margin-top: 80px;
            position: relative;
        }
        
        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="%23000000" fill-opacity="0.1" d="M0,96L48,112C96,128,192,160,288,186.7C384,213,480,235,576,213.3C672,192,768,128,864,128C960,128,1056,192,1152,197.3C1248,203,1344,149,1392,122.7L1440,96L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>');
            background-size: cover;
            background-position: top;
        }
        
        .footer-content {
            display: flex;
            justify-content: space-between;
            margin-bottom: 40px;
            position: relative;
            z-index: 1;
        }
        
        .footer-column {
            flex: 1;
        }
        
        .footer-column h3 {
            margin-bottom: 20px;
            font-size: 1.2rem;
        }
        
        .footer-column ul {
            list-style: none;
        }
        
        .footer-column ul li {
            margin-bottom: 10px;
        }
        
        .footer-column ul li a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: var(--transition);
        }
        
        .footer-column ul li a:hover {
            color: white;
            padding-left: 5px;
        }
        
        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            position: relative;
            z-index: 1;
        }
        
        /* 模态框 */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            background: white;
            border-radius: var(--radius);
            width: 90%;
            max-width: 500px;
            padding: 30px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            animation: modalFadeIn 0.3s ease;
            position: relative;
        }
        
        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-20px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 1.5rem;
            color: var(--primary);
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-light);
            transition: var(--transition);
        }
        
        .close-btn:hover {
            color: var(--primary);
            transform: rotate(90deg);
        }
        
        /* 进度条 */
        .progress-bar {
            height: 6px;
            background: #e0e0e0;
            border-radius: 3px;
            overflow: hidden;
            margin: 15px 0;
        }
        
        .progress {
            height: 100%;
            background: var(--primary-light);
            border-radius: 3px;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                padding: 15px 0;
            }
            
            nav ul {
                margin: 15px 0;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            nav ul li {
                margin: 5px 10px;
            }
            
            .identify-container, .footer-content {
                flex-direction: column;
            }
            
            .hero h2 {
                font-size: 2rem;
            }
            
            .garbage-categories {
                grid-template-columns: 1fr;
            }
            
            .user-container, .points-container {
                grid-template-columns: 1fr;
            }
            
            .charts-container {
                grid-template-columns: 1fr;
            }
            
            .chart-card {
                padding: 20px;
            }
        }
        
        /* 加载动画 */
        .loader {
            display: inline-block;
            width: 30px;
            height: 30px;
            border: 3px solid rgba(76, 175, 80, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary-light);
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* 通知 */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            z-index: 3000;
            transform: translateX(150%);
            transition: transform 0.3s ease;
            border-left: 4px solid var(--primary);
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            border-left-color: var(--primary);
        }
        
        .notification.error {
            border-left-color: #f44336;
        }
        
        /* 成就徽章 */
        .badge {
            display: inline-block;
            background: var(--secondary);
            color: white;
            padding: 5px 10px;
            border-radius: 12px;
            font-size: 0.8rem;
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <!-- 通知 -->
    <div class="notification" id="notification"></div>

    <!-- 头部 -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-leaf"></i>
                    </div>
                    <h1>绿动地球</h1>
                </div>
                <nav>
                    <ul>
                        <li><a href="#home" class="nav-link active" data-page="home">首页</a></li>
                        <li><a href="#identify" class="nav-link" data-page="identify">图像识别</a></li>
                        <li><a href="#garbage" class="nav-link" data-page="garbage">垃圾分类</a></li>
                        <li><a href="#carbon" class="nav-link" data-page="carbon">碳计算</a></li>
                        <li><a href="#points" class="nav-link" data-page="points">积分系统</a></li>
                        <li><a href="#visualization" class="nav-link" data-page="visualization">数据可视化</a></li>
                        <li><a href="#user" class="nav-link" data-page="user">用户中心</a></li>
                    </ul>
                </nav>
                <div class="auth-buttons">
                    <!-- 未登录状态 -->
                    <div id="guest-buttons">
                        <button class="login-btn" id="login-btn">登录</button>
                        <button class="signup-btn" id="signup-btn">注册</button>
                    </div>
                    <!-- 已登录状态 -->
                    <div id="user-profile" class="user-profile" style="display: none;">
                        <div class="user-avatar">U</div>
                        <div class="user-info">
                            <div class="user-name" id="user-name">用户名</div>
                            <div class="user-points" id="user-points">积分: 0</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- 首页 -->
    <section id="home" class="page active">
        <div class="hero">
            <div class="container">
                <div class="hero-content">
                    <h2>保护地球，从垃圾分类开始</h2>
                    <p>通过AI图像识别技术，轻松识别垃圾类别，正确分类可获得积分奖励，共同建设绿色家园</p>
                    <a href="#identify" class="cta-button nav-link" data-page="identify">开始识别</a>
                    <a href="#visualization" class="cta-button nav-link" data-page="visualization" style="margin-left: 15px; background: var(--accent);">查看数据</a>
                </div>
            </div>
        </div>
        
        <div class="container">
            <div class="features">
                <div class="section-title">
                    <h2>核心功能</h2>
                    <p>我们提供全方位的环保解决方案，帮助您轻松参与环保行动</p>
                </div>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-camera"></i>
                        </div>
                        <div class="feature-content">
                            <h3>废品图像识别</h3>
                            <p>通过上传废品图片，AI自动识别其类别，指导正确分类投放，提高回收效率。</p>
                        </div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-trash-alt"></i>
                        </div>
                        <div class="feature-content">
                            <h3>垃圾分类指南</h3>
                            <p>详细的垃圾分类知识库，包含可回收物、有害垃圾、湿垃圾和干垃圾的分类标准。</p>
                        </div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="feature-content">
                            <h3>碳足迹计算</h3>
                            <p>计算您的日常活动产生的碳排放量，提供减排建议，助力碳中和目标。</p>
                        </div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <div class="feature-content">
                            <h3>积分奖励系统</h3>
                            <p>通过环保行为获取积分，兑换环保产品或参与环保活动，激励持续环保行动。</p>
                        </div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-chart-pie"></i>
                        </div>
                        <div class="feature-content">
                            <h3>数据可视化</h3>
                            <p>通过直观的图表展示您的环保成果和统计数据，帮助您了解自己的环保贡献。</p>
                        </div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-user-friends"></i>
                        </div>
                        <div class="feature-content">
                            <h3>社区互动</h3>
                            <p>与其他环保爱好者交流经验，分享环保知识，共同参与环保挑战活动。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 图像识别页面 -->
    <section id="identify" class="page">
        <div class="container">
            <div class="section-title">
                <h2>AI废品识别</h2>
                <p>上传您需要处理的废品图片，我们的AI系统将自动识别其类别</p>
            </div>
            
            <div class="identify-container">
                <div class="identify-content">
                    <h2>AI废品识别</h2>
                    <p>上传您需要处理的废品图片，我们的AI系统将自动识别其类别，并提供正确的分类建议。正确分类可获得积分奖励！</p>
                    <ul>
                        <li>支持多种常见废品识别</li>
                        <li>提供详细分类指导</li>
                        <li>识别准确率高达95%</li>
                        <li>每次正确分类可获得10积分</li>
                    </ul>
                </div>
                <div class="identify-box">
                    <div class="upload-area" id="upload-area">
                        <div class="upload-icon">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                        <p>点击或拖拽图片到这里</p>
                        <p class="small-text">支持 JPG, PNG 格式，最大 5MB</p>
                    </div>
                    <button class="identify-btn" id="identify-btn">
                        <span class="btn-text">开始识别</span>
                    </button>
                    <div id="result-area" style="margin-top: 20px; display: none;">
                        <h3>识别结果</h3>
                        <div id="result-content"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 垃圾分类页面 -->
    <section id="garbage" class="page">
        <div class="container">
            <div class="section-title">
                <h2>垃圾分类指南</h2>
                <p>了解正确的垃圾分类方法，保护环境从我做起</p>
            </div>
            
            <div class="garbage-categories">
                <div class="category-card">
                    <div class="category-header recyclable">
                        <h3>可回收物</h3>
                        <p>Recyclable Waste</p>
                    </div>
                    <div class="category-content">
                        <ul>
                            <li>废纸张（报纸、书本、纸箱等）</li>
                            <li>废塑料（饮料瓶、塑料玩具等）</li>
                            <li>废玻璃（玻璃瓶、玻璃杯等）</li>
                            <li>废金属（易拉罐、金属餐具等）</li>
                            <li>废织物（旧衣服、床上用品等）</li>
                        </ul>
                    </div>
                </div>
                
                <div class="category-card">
                    <div class="category-header hazardous">
                        <h3>有害垃圾</h3>
                        <p>Hazardous Waste</p>
                    </div>
                    <div class="category-content">
                        <ul>
                            <li>废电池（充电电池、纽扣电池等）</li>
                            <li>废荧光灯管（节能灯、荧光灯等）</li>
                            <li>废温度计、血压计</li>
                            <li>废药品及其包装物</li>
                            <li>废油漆、溶剂及其包装物</li>
                        </ul>
                    </div>
                </div>
                
                <div class="category-card">
                    <div class="category-header household">
                        <h3>湿垃圾/厨余垃圾</h3>
                        <p>Household Food Waste</p>
                    </div>
                    <div class="category-content">
                        <ul>
                            <li>食材废料（谷物、肉类、蔬菜等）</li>
                            <li>剩饭剩菜（各类食品残余）</li>
                            <li>过期食品（糕点、饼干、罐头等）</li>
                            <li>瓜皮果核（水果残余、果皮等）</li>
                            <li>花卉植物（凋谢花卉、落叶等）</li>
                        </ul>
                    </div>
                </div>
                
                <div class="category-card">
                    <div class="category-header residual">
                        <h3>干垃圾/其他垃圾</h3>
                        <p>Residual Waste</p>
                    </div>
                    <div class="category-content">
                        <ul>
                            <li>餐巾纸、卫生间用纸</li>
                            <li>塑料袋、塑料包装</li>
                            <li>大骨头、硬贝壳</li>
                            <li>陶瓷碎片</li>
                            <li>烟头、尘土</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 碳计算页面 -->
    <section id="carbon" class="page">
        <div class="container">
            <div class="section-title">
                <h2>碳足迹计算</h2>
                <p>计算您的日常活动产生的碳排放量，了解如何减少碳足迹</p>
            </div>
            
            <div class="carbon-calculator">
                <h3>碳足迹计算器</h3>
                <p>请填写以下信息，计算您每日的碳排放量</p>
                
                <div class="calculator-form">
                    <div class="form-group">
                        <label for="electricity">每月用电量 (kWh)</label>
                        <input type="number" id="electricity" value="200" min="0">
                    </div>
                    
                    <div class="form-group">
                        <label for="gas">每月天然气用量 (m³)</label>
                        <input type="number" id="gas" value="50" min="0">
                    </div>
                    
                    <div class="form-group">
                        <label for="car">每月驾车里程 (km)</label>
                        <input type="number" id="car" value="300" min="0">
                    </div>
                    
                    <div class="form-group">
                        <label for="flight">每年飞行里程 (km)</label>
                        <input type="number" id="flight" value="2000" min="0">
                    </div>
                    
                    <div class="form-group">
                        <label for="diet">饮食类型</label>
                        <select id="diet">
                            <option value="vegan">纯素食</option>
                            <option value="vegetarian">素食</option>
                            <option value="meat_low">少量肉类</option>
                            <option value="meat_medium" selected>中等肉类</option>
                            <option value="meat_high">大量肉类</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="recycling">回收程度</label>
                        <select id="recycling">
                            <option value="none">不回收</option>
                            <option value="some">部分回收</option>
                            <option value="most" selected>大部分回收</option>
                            <option value="all">完全回收</option>
                        </select>
                    </div>
                </div>
                
                <button class="form-btn" id="calculate-btn">计算碳足迹</button>
                
                <div class="calculator-result" id="carbon-result" style="display: none;">
                    <h3>您的年度碳足迹</h3>
                    <div class="carbon-value" id="carbon-value">0</div>
                    <p>千克二氧化碳当量/年</p>
                    <p id="carbon-comparison"></p>
                    <div id="carbon-tips"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- 积分系统页面 -->
    <section id="points" class="page">
        <div class="container">
            <div class="section-title">
                <h2>积分奖励系统</h2>
                <p>通过环保行为获取积分，兑换环保产品或参与环保活动</p>
            </div>
            
            <div class="points-container">
                <div class="points-card">
                    <div class="points-header">
                        <div class="points-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <h3>获取积分</h3>
                    </div>
                    <ul class="points-list">
                        <li>
                            <span>废品正确分类</span>
                            <span class="points-value">+10 积分</span>
                        </li>
                        <li>
                            <span>每日签到</span>
                            <span class="points-value">+5 积分</span>
                        </li>
                        <li>
                            <span>分享环保知识</span>
                            <span class="points-value">+15 积分</span>
                        </li>
                        <li>
                            <span>参与环保活动</span>
                            <span class="points-value">+50 积分</span>
                        </li>
                        <li>
                            <span>邀请好友注册</span>
                            <span class="points-value">+100 积分</span>
                        </li>
                    </ul>
                </div>
                
                <div class="points-card">
                    <div class="points-header">
                        <div class="points-icon">
                            <i class="fas fa-gift"></i>
                        </div>
                        <h3>积分兑换</h3>
                    </div>
                    <ul class="points-list">
                        <li>
                            <span>环保购物袋</span>
                            <span class="points-value">200 积分</span>
                        </li>
                        <li>
                            <span>不锈钢吸管套装</span>
                            <span class="points-value">350 积分</span>
                        </li>
                        <li>
                            <span>植物种子套装</span>
                            <span class="points-value">500 积分</span>
                        </li>
                        <li>
                            <span>环保水杯</span>
                            <span class="points-value">800 积分</span>
                        </li>
                        <li>
                            <span>植树证书</span>
                            <span class="points-value">1000 积分</span>
                        </li>
                    </ul>
                </div>
                
                <div class="points-card">
                    <div class="points-header">
                        <div class="points-icon">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <h3>我的积分</h3>
                    </div>
                    <div style="text-align: center; padding: 20px 0;">
                        <div style="font-size: 3rem; color: var(--primary); font-weight: bold;" id="my-points">0</div>
                        <p>当前积分</p>
                        <div class="progress-bar">
                            <div class="progress" id="points-progress" style="width: 0%"></div>
                        </div>
                        <p style="font-size: 0.9rem; color: var(--text-light);">再获得 <span id="points-to-next">350</span> 积分可兑换环保水杯</p>
                    </div>
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="form-btn" id="exchange-btn" style="width: auto; padding: 10px 20px;">兑换礼品</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 数据可视化页面 -->
    <section id="visualization" class="page">
        <div class="container">
            <div class="section-title">
                <h2>数据可视化</h2>
                <p>通过直观的图表展示您的环保成果和统计数据</p>
            </div>
            
            <div class="charts-container">
                <div class="chart-card">
                    <h3 class="chart-title">垃圾分类统计</h3>
                    <div class="chart-container">
                        <canvas id="garbageChart"></canvas>
                    </div>
                </div>
                
                <div class="chart-card">
                    <h3 class="chart-title">积分获取趋势</h3>
                    <div class="chart-container">
                        <canvas id="pointsChart"></canvas>
                    </div>
                </div>
                
                <div class="chart-card">
                    <h3 class="chart-title">碳足迹对比</h3>
                    <div class="chart-container">
                        <canvas id="carbonChart"></canvas>
                    </div>
                </div>
                
                <div class="chart-card">
                    <h3 class="chart-title">环保行为分布</h3>
                    <div class="chart-container">
                        <canvas id="activityChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 用户中心页面 -->
    <section id="user" class="page">
        <div class="container">
            <div class="section-title">
                <h2>用户中心</h2>
                <p>管理您的账户信息，查看环保成就</p>
            </div>
            
            <div class="user-container">
                <div class="login-form" id="login-form-container">
                    <h3 class="form-title">用户登录</h3>
                    <div class="form-group">
                        <label for="login-username">用户名/邮箱</label>
                        <input type="text" id="login-username" placeholder="请输入用户名或邮箱">
                    </div>
                    <div class="form-group">
                        <label for="login-password">密码</label>
                        <input type="password" id="login-password" placeholder="请输入密码">
                    </div>
                    <button class="form-btn" id="login-form-btn">登录</button>
                    <p style="text-align: center; margin-top: 15px;">还没有账号？<a href="#" id="to-signup">立即注册</a></p>
                </div>
                
                <div class="signup-form" id="signup-form-container" style="display: none;">
                    <h3 class="form-title">用户注册</h3>
                    <div class="form-group">
                        <label for="signup-username">用户名</label>
                        <input type="text" id="signup-username" placeholder="请输入用户名">
                    </div>
                    <div class="form-group">
                        <label for="signup-email">邮箱</label>
                        <input type="email" id="signup-email" placeholder="请输入邮箱">
                    </div>
                    <div class="form-group">
                        <label for="signup-password">密码</label>
                        <input type="password" id="signup-password" placeholder="请输入密码">
                    </div>
                    <div class="form-group">
                        <label for="signup-confirm">确认密码</label>
                        <input type="password" id="signup-confirm" placeholder="请再次输入密码">
                    </div>
                    <button class="form-btn" id="signup-form-btn">注册</button>
                    <p style="text-align: center; margin-top: 15px;">已有账号？<a href="#" id="to-login">立即登录</a></p>
                </div>
                
                <div class="user-profile-card" id="user-profile-card" style="display: none;">
                    <h3 class="form-title">用户信息</h3>
                    <div style="text-align: center; margin-bottom: 20px;">
                        <div class="user-avatar" style="width: 80px; height: 80px; font-size: 2rem; margin: 0 auto 15px;">U</div>
                        <h3 id="profile-username">用户名</h3>
                        <p id="profile-email">user@example.com</p>
                    </div>
                    
                    <div style="background: var(--primary-lighter); padding: 15px; border-radius: var(--radius); margin-bottom: 20px;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>当前积分：</span>
                            <span id="profile-points" style="font-weight: bold; color: var(--primary);">0</span>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <h4>环保成就</h4>
                        <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                            <span>正确分类次数：</span>
                            <span id="profile-classifications">0 <span class="badge">初级分类员</span></span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-top: 5px;">
                            <span>碳减排量(kg)：</span>
                            <span id="profile-carbon">0</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-top: 5px;">
                            <span>连续签到天数：</span>
                            <span id="profile-checkins">0</span>
                        </div>
                    </div>
                    
                    <button class="form-btn" id="checkin-btn" style="margin-bottom: 10px;">每日签到</button>
                    <button class="form-btn" id="logout-btn" style="background: #f44336;">退出登录</button>
                </div>
            </div>
        </div>
    </section>

    <!-- 页脚 -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>关于我们</h3>
                    <ul>
                        <li><a href="#">公司简介</a></li>
                        <li><a href="#">团队介绍</a></li>
                        <li><a href="#">合作伙伴</a></li>
                        <li><a href="#">加入我们</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>帮助中心</h3>
                    <ul>
                        <li><a href="#">使用指南</a></li>
                        <li><a href="#">常见问题</a></li>
                        <li><a href="#">联系客服</a></li>
                        <li><a href="#">意见反馈</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>关注我们</h3>
                    <ul>
                        <li><a href="#"><i class="fab fa-weibo"></i> 微博</a></li>
                        <li><a href="#"><i class="fab fa-weixin"></i> 微信</a></li>
                        <li><a href="#"><i class="fab fa-qq"></i> QQ群</a></li>
                        <li><a href="#"><i class="fab fa-github"></i> GitHub</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 绿动地球环保平台 版权所有</p>
            </div>
        </div>
    </footer>

    <!-- 登录模态框 -->
    <div class="modal" id="login-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">用户登录</h3>
                <button class="close-btn" id="close-login">&times;</button>
            </div>
            <div class="form-group">
                <label for="modal-login-username">用户名/邮箱</label>
                <input type="text" id="modal-login-username" placeholder="请输入用户名或邮箱">
            </div>
            <div class="form-group">
                <label for="modal-login-password">密码</label>
                <input type="password" id="modal-login-password" placeholder="请输入密码">
            </div>
            <button class="form-btn" id="modal-login-btn">登录</button>
            <p style="text-align: center; margin-top: 15px;">还没有账号？<a href="#" id="modal-to-signup">立即注册</a></p>
        </div>
    </div>

    <!-- 注册模态框 -->
    <div class="modal" id="signup-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">用户注册</h3>
                <button class="close-btn" id="close-signup">&times;</button>
            </div>
            <div class="form-group">
                <label for="modal-signup-username">用户名</label>
                <input type="text" id="modal-signup-username" placeholder="请输入用户名">
            </div>
            <div class="form-group">
                <label for="modal-signup-email">邮箱</label>
                <input type="email" id="modal-signup-email" placeholder="请输入邮箱">
            </div>
            <div class="form-group">
                <label for="modal-signup-password">密码</label>
                <input type="password" id="modal-signup-password" placeholder="请输入密码">
            </div>
            <div class="form-group">
                <label for="modal-signup-confirm">确认密码</label>
                <input type="password" id="modal-signup-confirm" placeholder="请再次输入密码">
            </div>
            <button class="form-btn" id="modal-signup-btn">注册</button>
            <p style="text-align: center; margin-top: 15px;">已有账号？<a href="#" id="modal-to-login">立即登录</a></p>
        </div>
    </div>

    <script>
        // 用户状态管理
        let currentUser = null;
        
        // DOM元素
        const guestButtons = document.getElementById('guest-buttons');
        const userProfile = document.getElementById('user-profile');
        const userName = document.getElementById('user-name');
        const userPoints = document.getElementById('user-points');
        const loginBtn = document.getElementById('login-btn');
        const signupBtn = document.getElementById('signup-btn');
        const loginModal = document.getElementById('login-modal');
        const signupModal = document.getElementById('signup-modal');
        const closeLogin = document.getElementById('close-login');
        const closeSignup = document.getElementById('close-signup');
        const modalToSignup = document.getElementById('modal-to-signup');
        const modalToLogin = document.getElementById('modal-to-login');
        const modalLoginBtn = document.getElementById('modal-login-btn');
        const modalSignupBtn = document.getElementById('modal-signup-btn');
        const identifyBtn = document.getElementById('identify-btn');
        const resultArea = document.getElementById('result-area');
        const resultContent = document.getElementById('result-content');
        const calculateBtn = document.getElementById('calculate-btn');
        const carbonResult = document.getElementById('carbon-result');
        const carbonValue = document.getElementById('carbon-value');
        const carbonComparison = document.getElementById('carbon-comparison');
        const carbonTips = document.getElementById('carbon-tips');
        const myPoints = document.getElementById('my-points');
        const exchangeBtn = document.getElementById('exchange-btn');
        const loginFormBtn = document.getElementById('login-form-btn');
        const signupFormBtn = document.getElementById('signup-form-btn');
        const toSignup = document.getElementById('to-signup');
        const toLogin = document.getElementById('to-login');
        const loginFormContainer = document.getElementById('login-form-container');
        const signupFormContainer = document.getElementById('signup-form-container');
        const userProfileCard = document.getElementById('user-profile-card');
        const profileUsername = document.getElementById('profile-username');
        const profileEmail = document.getElementById('profile-email');
        const profilePoints = document.getElementById('profile-points');
        const profileClassifications = document.getElementById('profile-classifications');
        const profileCarbon = document.getElementById('profile-carbon');
        const profileCheckins = document.getElementById('profile-checkins');
        const logoutBtn = document.getElementById('logout-btn');
        const checkinBtn = document.getElementById('checkin-btn');
        const pointsProgress = document.getElementById('points-progress');
        const pointsToNext = document.getElementById('points-to-next');
        const notification = document.getElementById('notification');
        
        // 图表实例
        let garbageChart, pointsChart, carbonChart, activityChart;
        
        // 模拟用户数据
        let users = [
            { 
                username: 'demo', 
                email: 'demo@example.com', 
                password: '123456', 
                points: 150, 
                classifications: 12, 
                carbonReduction: 45,
                checkins: 3,
                lastCheckin: new Date().toDateString()
            }
        ];
        
        // 页面导航
        const navLinks = document.querySelectorAll('.nav-link');
        const pages = document.querySelectorAll('.page');
        
        // 初始化
        function init() {
            checkLoginStatus();
            setupEventListeners();
            setupNavigation();
            updatePointsProgress();
        }
        
        // 检查是否已登录
        function checkLoginStatus() {
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateUI();
            }
        }
        
        // 更新UI显示
        function updateUI() {
            if (currentUser) {
                guestButtons.style.display = 'none';
                userProfile.style.display = 'flex';
                userName.textContent = currentUser.username;
                userPoints.textContent = `积分: ${currentUser.points}`;
                myPoints.textContent = currentUser.points;
                
                // 更新用户中心
                loginFormContainer.style.display = 'none';
                signupFormContainer.style.display = 'none';
                userProfileCard.style.display = 'block';
                profileUsername.textContent = currentUser.username;
                profileEmail.textContent = currentUser.email;
                profilePoints.textContent = currentUser.points;
                profileClassifications.textContent = currentUser.classifications || 0;
                profileCarbon.textContent = currentUser.carbonReduction || 0;
                profileCheckins.textContent = currentUser.checkins || 0;
                
                // 更新积分进度
                updatePointsProgress();
                
                // 更新图表
                if (document.getElementById('visualization').classList.contains('active')) {
                    updateCharts();
                }
            } else {
                guestButtons.style.display = 'flex';
                userProfile.style.display = 'none';
                
                // 更新用户中心
                loginFormContainer.style.display = 'block';
                signupFormContainer.style.display = 'none';
                userProfileCard.style.display = 'none';
            }
        }
        
        // 更新积分进度条
        function updatePointsProgress() {
            if (!currentUser) return;
            
            const points = currentUser.points;
            let nextRewardPoints = 800; // 环保水杯需要800积分
            
            // 根据当前积分确定下一个奖励
            if (points < 200) nextRewardPoints = 200;
            else if (points < 350) nextRewardPoints = 350;
            else if (points < 500) nextRewardPoints = 500;
            else if (points < 800) nextRewardPoints = 800;
            else nextRewardPoints = 1000;
            
            const progress = Math.min((points / nextRewardPoints) * 100, 100);
            pointsProgress.style.width = `${progress}%`;
            pointsToNext.textContent = nextRewardPoints - points;
        }
        
        // 显示通知
        function showNotification(message, type = 'success') {
            notification.textContent = message;
            notification.className = `notification ${type} show`;
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // 设置事件监听
        function setupEventListeners() {
            // 登录按钮点击
            loginBtn.addEventListener('click', () => openModal(loginModal));
            
            // 注册按钮点击
            signupBtn.addEventListener('click', () => openModal(signupModal));
            
            // 关闭模态框
            closeLogin.addEventListener('click', () => closeModal(loginModal));
            closeSignup.addEventListener('click', () => closeModal(signupModal));
            
            // 模态框切换
            modalToSignup.addEventListener('click', (e) => {
                e.preventDefault();
                closeModal(loginModal);
                openModal(signupModal);
            });
            
            modalToLogin.addEventListener('click', (e) => {
                e.preventDefault();
                closeModal(signupModal);
                openModal(loginModal);
            });
            
            // 登录表单提交
            modalLoginBtn.addEventListener('click', () => {
                const username = document.getElementById('modal-login-username').value;
                const password = document.getElementById('modal-login-password').value;
                
                if (username && password) {
                    login(username, password);
                } else {
                    showNotification('请填写完整信息！', 'error');
                }
            });
            
            // 注册表单提交
            modalSignupBtn.addEventListener('click', () => {
                const username = document.getElementById('modal-signup-username').value;
                const email = document.getElementById('modal-signup-email').value;
                const password = document.getElementById('modal-signup-password').value;
                const confirm = document.getElementById('modal-signup-confirm').value;
                
                if (username && email && password && confirm) {
                    if (password !== confirm) {
                        showNotification('两次输入的密码不一致！', 'error');
                        return;
                    }
                    
                    signup(username, email, password);
                } else {
                    showNotification('请填写完整信息！', 'error');
                }
            });
            
            // 识别按钮点击
            identifyBtn.addEventListener('click', identifyWaste);
            
            // 碳计算按钮点击
            calculateBtn.addEventListener('click', calculateCarbon);
            
            // 积分兑换按钮点击
            exchangeBtn.addEventListener('click', () => {
                if (!currentUser) {
                    showNotification('请先登录！', 'error');
                    openModal(loginModal);
                    return;
                }
                
                if (currentUser.points < 200) {
                    showNotification('积分不足，无法兑换礼品！', 'error');
                    return;
                }
                
                showNotification('兑换成功！请等待管理员联系您。');
                // 模拟扣除积分
                currentUser.points -= 200;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                updateUI();
            });
            
            // 用户中心登录注册切换
            toSignup.addEventListener('click', (e) => {
                e.preventDefault();
                loginFormContainer.style.display = 'none';
                signupFormContainer.style.display = 'block';
            });
            
            toLogin.addEventListener('click', (e) => {
                e.preventDefault();
                signupFormContainer.style.display = 'none';
                loginFormContainer.style.display = 'block';
            });
            
            // 用户中心登录
            loginFormBtn.addEventListener('click', () => {
                const username = document.getElementById('login-username').value;
                const password = document.getElementById('login-password').value;
                
                if (username && password) {
                    login(username, password);
                } else {
                    showNotification('请填写完整信息！', 'error');
                }
            });
            
            // 用户中心注册
            signupFormBtn.addEventListener('click', () => {
                const username = document.getElementById('signup-username').value;
                const email = document.getElementById('signup-email').value;
                const password = document.getElementById('signup-password').value;
                const confirm = document.getElementById('signup-confirm').value;
                
                if (username && email && password && confirm) {
                    if (password !== confirm) {
                        showNotification('两次输入的密码不一致！', 'error');
                        return;
                    }
                    
                    signup(username, email, password);
                } else {
                    showNotification('请填写完整信息！', 'error');
                }
            });
            
            // 每日签到
            checkinBtn.addEventListener('click', () => {
                if (!currentUser) return;
                
                const today = new Date().toDateString();
                if (currentUser.lastCheckin === today) {
                    showNotification('今天已经签到过了！', 'error');
                    return;
                }
                
                // 连续签到逻辑
                const yesterday = new Date();
                yesterday.setDate(yesterday.getDate() - 1);
                const yesterdayStr = yesterday.toDateString();
                
                if (currentUser.lastCheckin === yesterdayStr) {
                    currentUser.checkins = (currentUser.checkins || 0) + 1;
                } else {
                    currentUser.checkins = 1;
                }
                
                currentUser.lastCheckin = today;
                currentUser.points += 5;
                
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                updateUI();
                showNotification(`签到成功！获得5积分，已连续签到${currentUser.checkins}天`);
            });
            
            // 退出登录
            logoutBtn.addEventListener('click', logout);
            
            // 点击模态框外部关闭
            window.addEventListener('click', (e) => {
                if (e.target === loginModal) {
                    closeModal(loginModal);
                }
                if (e.target === signupModal) {
                    closeModal(signupModal);
                }
            });
            
            // 上传区域交互
            const uploadArea = document.getElementById('upload-area');
            uploadArea.addEventListener('click', () => {
                uploadArea.classList.add('active');
                setTimeout(() => {
                    uploadArea.classList.remove('active');
                }, 1000);
            });
        }
        
        // 设置页面导航
        function setupNavigation() {
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const pageId = link.getAttribute('data-page');
                    
                    // 更新导航状态
                    navLinks.forEach(nav => nav.classList.remove('active'));
                    link.classList.add('active');
                    
                    // 显示对应页面
                    pages.forEach(page => {
                        page.classList.remove('active');
                        if (page.id === pageId) {
                            page.classList.add('active');
                            
                            // 如果是数据可视化页面，初始化图表
                            if (pageId === 'visualization') {
                                setTimeout(() => {
                                    initCharts();
                                }, 100);
                            }
                        }
                    });
                    
                    // 滚动到顶部
                    window.scrollTo(0, 0);
                });
            });
        }
        
        // 初始化图表
        function initCharts() {
            // 垃圾分类统计图
            const garbageCtx = document.getElementById('garbageChart').getContext('2d');
            garbageChart = new Chart(garbageCtx, {
                type: 'pie',
                data: {
                    labels: ['可回收物', '有害垃圾', '湿垃圾', '干垃圾'],
                    datasets: [{
                        data: [45, 15, 25, 15],
                        backgroundColor: [
                            '#4caf50',
                            '#f44336',
                            '#ff9800',
                            '#795548'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        },
                        title: {
                            display: true,
                            text: '您的垃圾分类统计'
                        }
                    }
                }
            });
            
            // 积分获取趋势图
            const pointsCtx = document.getElementById('pointsChart').getContext('2d');
            pointsChart = new Chart(pointsCtx, {
                type: 'line',
                data: {
                    labels: ['1月', '2月', '3月', '4月', '5月', '6月'],
                    datasets: [{
                        label: '积分获取',
                        data: [30, 45, 60, 80, 110, 150],
                        borderColor: '#4caf50',
                        backgroundColor: 'rgba(76, 175, 80, 0.1)',
                        tension: 0.3,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: '积分获取趋势'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
            
            // 碳足迹对比图
            const carbonCtx = document.getElementById('carbonChart').getContext('2d');
            carbonChart = new Chart(carbonCtx, {
                type: 'bar',
                data: {
                    labels: ['您', '全国平均', '环保达人'],
                    datasets: [{
                        label: '碳足迹 (kg/年)',
                        data: [8500, 12000, 6500],
                        backgroundColor: [
                            '#4caf50',
                            '#ff9800',
                            '#2196f3'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: '碳足迹对比'
                        }
                    }
                }
            });
            
            // 环保行为分布图
            const activityCtx = document.getElementById('activityChart').getContext('2d');
            activityChart = new Chart(activityCtx, {
                type: 'doughnut',
                data: {
                    labels: ['垃圾分类', '碳减排', '每日签到', '分享知识', '参与活动'],
                    datasets: [{
                        data: [40, 25, 15, 10, 10],
                        backgroundColor: [
                            '#4caf50',
                            '#2196f3',
                            '#ff9800',
                            '#9c27b0',
                            '#795548'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        },
                        title: {
                            display: true,
                            text: '环保行为分布'
                        }
                    }
                }
            });
        }
        
        // 更新图表数据
        function updateCharts() {
            if (!garbageChart || !pointsChart || !carbonChart || !activityChart) {
                initCharts();
                return;
            }
            
            // 更新垃圾分类统计图
            if (currentUser) {
                const classifications = currentUser.classifications || 0;
                garbageChart.data.datasets[0].data = [
                    Math.floor(classifications * 0.45),
                    Math.floor(classifications * 0.15),
                    Math.floor(classifications * 0.25),
                    Math.floor(classifications * 0.15)
                ];
                garbageChart.update();
                
                // 更新积分获取趋势图
                const points = currentUser.points || 0;
                pointsChart.data.datasets[0].data = [
                    Math.floor(points * 0.2),
                    Math.floor(points * 0.3),
                    Math.floor(points * 0.4),
                    Math.floor(points * 0.55),
                    Math.floor(points * 0.73),
                    points
                ];
                pointsChart.update();
                
                // 更新碳足迹对比图
                const carbonReduction = currentUser.carbonReduction || 0;
                carbonChart.data.datasets[0].data = [
                    12000 - carbonReduction,
                    12000,
                    6500
                ];
                carbonChart.update();
            }
        }
        
        // 登录功能
        function login(username, password) {
            const user = users.find(u => 
                (u.username === username || u.email === username) && u.password === password
            );
            
            if (user) {
                currentUser = { ...user };
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                updateUI();
                closeModal(loginModal);
                showNotification('登录成功！');
                return true;
            } else {
                showNotification('用户名或密码错误！', 'error');
                return false;
            }
        }
        
        // 注册功能
        function signup(username, email, password) {
            // 检查用户名是否已存在
            if (users.some(u => u.username === username)) {
                showNotification('用户名已存在！', 'error');
                return false;
            }
            
            // 检查邮箱是否已存在
            if (users.some(u => u.email === email)) {
                showNotification('邮箱已被注册！', 'error');
                return false;
            }
            
            // 创建新用户
            const newUser = {
                username,
                email,
                password,
                points: 0,
                classifications: 0,
                carbonReduction: 0,
                checkins: 0,
                lastCheckin: null
            };
            
            users.push(newUser);
            currentUser = { ...newUser };
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            updateUI();
            closeModal(signupModal);
            showNotification('注册成功！');
            return true;
        }
        
        // 退出登录
        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            updateUI();
            showNotification('已退出登录！');
        }
        
        // 打开模态框
        function openModal(modal) {
            modal.style.display = 'flex';
        }
        
        // 关闭模态框
        function closeModal(modal) {
            modal.style.display = 'none';
        }
        
        // 模拟图像识别
        function identifyWaste() {
            if (!currentUser) {
                showNotification('请先登录！', 'error');
                openModal(loginModal);
                return;
            }
            
            // 模拟识别过程
            resultArea.style.display = 'block';
            resultContent.innerHTML = '<p><div class="loader"></div>正在识别中...</p>';
            
            // 禁用按钮
            identifyBtn.disabled = true;
            identifyBtn.innerHTML = '<div class="loader"></div><span class="btn-text">识别中...</span>';
            
            setTimeout(() => {
                const wasteTypes = ['塑料瓶', '纸箱', '玻璃瓶', '电池', '果皮'];
                const randomType = wasteTypes[Math.floor(Math.random() * wasteTypes.length)];
                const categories = {
                    '塑料瓶': '可回收物',
                    '纸箱': '可回收物',
                    '玻璃瓶': '可回收物',
                    '电池': '有害垃圾',
                    '果皮': '湿垃圾'
                };
                
                resultContent.innerHTML = `
                    <div style="background: var(--primary-lighter); padding: 15px; border-radius: var(--radius);">
                        <p><strong>识别结果：</strong>${randomType}</p>
                        <p><strong>分类建议：</strong>${categories[randomType]}</p>
                        <p><strong>处理方式：</strong>${getDisposalMethod(categories[randomType])}</p>
                        <p style="color: var(--primary); margin-top: 10px; font-weight: bold;">+10 积分</p>
                    </div>
                `;
                
                // 增加用户积分和分类次数
                currentUser.points += 10;
                currentUser.classifications = (currentUser.classifications || 0) + 1;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                updateUI();
                
                // 恢复按钮
                identifyBtn.disabled = false;
                identifyBtn.innerHTML = '<span class="btn-text">开始识别</span>';
                
                showNotification(`识别成功！获得10积分，当前积分：${currentUser.points}`);
            }, 2000);
        }
        
        // 获取处理方式
        function getDisposalMethod(category) {
            const methods = {
                '可回收物': '清洗干净后投入可回收物垃圾桶',
                '有害垃圾': '投入有害垃圾专用收集容器',
                '湿垃圾': '沥干水分后投入湿垃圾桶',
                '干垃圾': '投入干垃圾桶'
            };
            return methods[category] || '请按照当地分类标准处理';
        }
        
        // 计算碳足迹
        function calculateCarbon() {
            const electricity = parseFloat(document.getElementById('electricity').value) || 0;
            const gas = parseFloat(document.getElementById('gas').value) || 0;
            const car = parseFloat(document.getElementById('car').value) || 0;
            const flight = parseFloat(document.getElementById('flight').value) || 0;
            const diet = document.getElementById('diet').value;
            const recycling = document.getElementById('recycling').value;
            
            // 简化计算模型
            let carbon = 0;
            carbon += electricity * 0.5; // 电力碳排放因子
            carbon += gas * 2; // 天然气碳排放因子
            carbon += car * 0.2; // 汽车碳排放因子
            carbon += flight * 0.1; // 飞行碳排放因子
            
            // 饮食调整
            const dietFactors = {
                'vegan': 0.8,
                'vegetarian': 0.9,
                'meat_low': 1.0,
                'meat_medium': 1.2,
                'meat_high': 1.5
            };
            carbon *= dietFactors[diet];
            
            // 回收调整
            const recyclingFactors = {
                'none': 1.1,
                'some': 1.0,
                'most': 0.9,
                'all': 0.8
            };
            carbon *= recyclingFactors[recycling];
            
            // 转换为年度数据
            carbon = carbon * 12;
            
            // 显示结果
            carbonValue.textContent = Math.round(carbon);
            carbonResult.style.display = 'block';
            
            // 比较信息
            const avgCarbon = 12000; // 中国平均碳足迹
            const comparison = carbon < avgCarbon ? 
                `您的碳足迹低于全国平均水平 ${avgCarbon} kg，表现良好！` :
                `您的碳足迹高于全国平均水平 ${avgCarbon} kg，需要进一步减排。`;
            carbonComparison.textContent = comparison;
            
            // 减排建议
            let tips = '<h4>减排建议：</h4><ul>';
            if (electricity > 150) {
                tips += '<li>考虑使用节能电器，减少不必要的用电</li>';
            }
            if (car > 200) {
                tips += '<li>尽量使用公共交通或拼车出行</li>';
            }
            if (diet === 'meat_high' || diet === 'meat_medium') {
                tips += '<li>适当减少肉类消费，增加植物性食品</li>';
            }
            if (recycling === 'none' || recycling === 'some') {
                tips += '<li>提高垃圾分类和回收率</li>';
            }
            tips += '</ul>';
            carbonTips.innerHTML = tips;
            
            // 更新用户数据
            if (currentUser) {
                currentUser.carbonReduction = Math.round(carbon * 0.1); // 假设减排10%
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                updateUI();
            }
            
            showNotification('碳足迹计算完成！');
        }
        
        // 初始化应用
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>